{"version":3,"sources":["reportWebVitals.js","MoneyTeller.js","TransHistory.js","Input.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","MoneyTeller","props","className","currencyUnit","balance","income","Math","abs","expense","TransHistory","historyArr","history","historyList","map","amount","search","title","time","shortenedHistoryList","slice","onClick","e","historyAllRef","current","id","ref","Input","onSubmit","processTransaction","type","placeholder","value","inputTitle","maxLength","onChange","changeTitle","required","inputAmount","changeAmount","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firestore","mainOn","Main","useState","setIncome","setBalance","setExpense","setHistory","setCurrencyUnit","docRef","collection","doc","currentUser","uid","setValues","data","useEffect","get","exists","set","setInputTitle","setInputAmount","useRef","settingsMenuRef","preventDefault","target","update","SignOut","displayName","currentDateTime","Date","toLocaleString","indexOf","Number","parseFloat","toFixed","SignIn","provider","GoogleAuthProvider","signInWithPopup","signOut","App","useAuthState","user","el","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c2e0171a.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export function MoneyTeller(props){\n\n    return <div className=\"money\">\n        <div className=\"balance\">\n            <h3>YOUR BALANCE</h3>\n            <p>{props.currencyUnit} {props.balance}</p>\n        </div>\n        <div className=\"others\">\n            <div className=\"income\">\n                <h3>INCOME</h3>\n                <p>{props.currencyUnit} {props.income}</p>\n            </div>\n            <div className=\"expense\">\n                <h3>EXPENSE</h3>\n                <p>{props.currencyUnit} {Math.abs(props.expense)}</p>\n            </div>\n        </div>\n    </div>\n}","export function TransHistory(props){\n\n    const historyArr = props.history;\n    const historyList = historyArr\n    .map(history => <li className={history.amount.search(/-/g) !== -1 ? \"expense\" : \"income\"}>\n        {history.title} |<span> {history.time} </span>| {history.amount}\n        </li>);\n\n    const shortenedHistoryList = historyArr\n    .slice(0,4)\n    .map(history => <li className={history.amount.search(/-/g) !== -1 ? \"expense\" : \"income\"}>\n        {history.title} |<span> {history.time} </span>| {history.amount}\n        </li>);\n\n    return <div className=\"history\">\n        <h4>History <span onClick={e => props.historyAllRef.current.className=\"\"}>VIEW ALL</span></h4>\n        <hr/>\n        <ul>{shortenedHistoryList}</ul>\n        <div id=\"historyAll\" className=\"hide\" ref={props.historyAllRef}>\n            <div id=\"historyAllContent\">\n                <p onClick={e => props.historyAllRef.current.className=\"hide\"}>&times;</p>\n                <h2>History</h2>\n                <ul>{historyList}</ul>\n            </div>\n        </div>\n    </div>\n}","export function Input(props){\n    return <div className=\"input\">\n        <h4>Add new transaction</h4>\n        <hr/>\n        <form onSubmit={props.processTransaction}>\n            <br/>\n            <label>Transaction Subject (max. 20 words):</label><br/>\n            <input type=\"Text\" placeholder=\"e.g. Food, Income...\" value={props.inputTitle} maxLength={20} onChange={props.changeTitle} required/>\n            <br/><br/>\n            <label>Amount:<br/>e.g. 50 = Income<br/>e.g. -50 = Expense ('-' added in front)</label><br/>\n            <input type=\"number\" placeholder=\"e.g. 50, -50\" value={props.inputAmount} onChange={props.changeAmount} required/>\n            <br/><br/>\n            <input type=\"submit\" value=\"Add Transaction\"/>\n        </form>\n    </div>\n}","import React, { useState,useRef, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport './style.css';\nimport reportWebVitals from './reportWebVitals';\n\nimport { MoneyTeller } from './MoneyTeller.js';\nimport { TransHistory } from './TransHistory.js';\nimport { Input } from './Input.js';\n\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nimport { useAuthState } from 'react-firebase-hooks/auth';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCQuSLV9BydFHRtg-x9kK9jeM0foZyOt3M\",\n  authDomain: \"expense-tracker-d9bf2.firebaseapp.com\",\n  projectId: \"expense-tracker-d9bf2\",\n  storageBucket: \"expense-tracker-d9bf2.appspot.com\",\n  messagingSenderId: \"180385147814\",\n  appId: \"1:180385147814:web:3b0a82f9d205b930eb7d67\",\n  measurementId: \"G-N4BC1MH8WZ\"\n};\n\nfirebase.initializeApp(firebaseConfig);\n\nconst auth = firebase.auth();\nconst firestore = firebase.firestore();\n\nlet mainOn = false;\n\nfunction Main(){\n  mainOn = true;\n  let [income, setIncome] = useState(0);\n  let [balance, setBalance] = useState(0);\n  let [expense, setExpense] = useState(0);\n\n  let [history, setHistory] = useState([]);\n\n  let [currencyUnit, setCurrencyUnit] = useState(\"$\");\n  const changeCurrencyUnit = e => {setCurrencyUnit(e.target.value);docRef.update({currencyUnit:e.target.value})};\n\n  let docRef = firestore.collection(\"users\").doc(auth.currentUser.uid);\n\n  function setValues(data){\n    setBalance(data.balance);\n    setIncome(data.income);\n    setExpense(data.expense);\n    setHistory(data.history);\n    setCurrencyUnit(data.currencyUnit);\n  }\n\n  useEffect(() => {\n    docRef.get().then(doc => {\n      if(doc.exists){\n        docRef.get().then(data => setValues(data.data()));\n      } else {\n        docRef.set({\n          balance:0,\n          income:0,\n          expense:0,\n          currencyUnit:\"$\",\n          history:[]\n        })\n        docRef.get().then(data => setValues(data.data()));\n      }\n    })\n  },[mainOn])\n\n\n\n  let [inputTitle, setInputTitle] = useState(\"\");\n  const changeTitle = e => setInputTitle(e.target.value);\n  let [inputAmount, setInputAmount] = useState(\"\");\n  const changeAmount = e => setInputAmount(e.target.value);\n\n\n  let historyAllRef = useRef();\n  let settingsMenuRef = useRef();\n\n  function processTransaction(e){\n    e.preventDefault();\n\n    let currentDateTime = Date().toLocaleString();\n    currentDateTime = currentDateTime.slice(0,currentDateTime.indexOf(\"G\"));\n\n    setBalance(Number(balance) + Number(inputAmount));\n    docRef.update({balance:Number(balance) + Number(inputAmount)});\n\n    if(inputAmount.search(/-/g) !== -1){\n      setExpense(Number(expense) + Number(inputAmount));\n      docRef.update({expense:Number(expense) + Number(inputAmount)});;\n\n    } else {\n      setIncome(Number(income) + Number(inputAmount));\n      docRef.update({income:Number(income) + Number(inputAmount)});\n\n    }\n\n    setHistory([{title: inputTitle,time:currentDateTime, amount:parseFloat(inputAmount).toFixed(2)}, ...history]);\n    docRef.update({history:[{title: inputTitle,time:currentDateTime, amount:parseFloat(inputAmount).toFixed(2)}, ...history]})\n\n    setInputTitle(\"\");\n    setInputAmount(\"\");\n\n  }\n\n  return <div className=\"container\">\n    \n    <div id=\"settings\" onClick={e => settingsMenuRef.current.className=\"\"}><i className=\"fas fa-cog\"></i></div>\n    <div id=\"settingsMenu\" className=\"hide\" ref={settingsMenuRef}>\n      <div id=\"settingsMenuContent\">\n        <p onClick={e => settingsMenuRef.current.className=\"hide\"}>&times;</p>\n        <form onSubmit={e => {e.preventDefault();}}>\n          <label>Enter Currency Unit: </label><br/><br/>\n          <input maxLength={3} placeholder=\"e.g. $, RM...\" type=\"text\" value={currencyUnit} onChange={changeCurrencyUnit} required/>\n        </form>\n        <br/>\n        <SignOut/>\n      </div>\n    </div>\n\n    <h3>Hello, {auth.currentUser.displayName}</h3>\n    <br/>\n    <MoneyTeller\n    income={income}\n    balance={balance}\n    expense={expense}\n    currencyUnit={currencyUnit}/>\n    <br/>\n    <TransHistory \n    history={history} \n    historyAllRef={historyAllRef}/>\n    <br/>\n    <Input\n    inputTitle={inputTitle}\n    inputAmount={inputAmount}\n    changeTitle={changeTitle}\n    changeAmount={changeAmount}\n    processTransaction={processTransaction}/>\n    \n  </div>\n}\n\nfunction SignIn(){\n\n  const signInWithGoogle = () => {\n    const provider = new firebase.auth.GoogleAuthProvider();\n    auth.signInWithPopup(provider);\n  }\n\n  return <div id=\"signIn\">\n    <h2>Expense Tracker</h2>\n    <p>Track your expenses, transactions and more with this user-friendly app</p>\n    <button onClick={signInWithGoogle}>Sign In With Google</button>\n    </div>\n}\n\nfunction SignOut(){\n  return auth.currentUser && (\n    <button id=\"signOut\" onClick={() => auth.signOut()}>Sign Out</button>\n  )\n}\n\nfunction App(){\n\n  const [user] = useAuthState(auth);\n\n  return <div>\n    {user ? <Main/> : <SignIn/>}\n  </div>\n}\n\n\n\nconst el = <App/>;\n\nReactDOM.render(el, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}