(this.webpackJsonpexpense_tracker=this.webpackJsonpexpense_tracker||[]).push([[0],{22:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var c=n(15),r=n(8),s=n(4),i=n(16),a=n.n(i),j=(n(22),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,29)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),s(e),i(e)}))}),u=n(1);function b(e){return Object(u.jsxs)("div",{className:"money",children:[Object(u.jsxs)("div",{className:"balance",children:[Object(u.jsx)("h3",{children:"YOUR BALANCE"}),Object(u.jsxs)("p",{children:[e.currencyUnit," ",e.balance]})]}),Object(u.jsxs)("div",{className:"others",children:[Object(u.jsxs)("div",{className:"income",children:[Object(u.jsx)("h3",{children:"INCOME"}),Object(u.jsxs)("p",{children:[e.currencyUnit," ",e.income]})]}),Object(u.jsxs)("div",{className:"expense",children:[Object(u.jsx)("h3",{children:"EXPENSE"}),Object(u.jsxs)("p",{children:[e.currencyUnit," ",Math.abs(e.expense)]})]})]})]})}function l(e){var t=e.history,n=t.map((function(e){return Object(u.jsxs)("li",{className:-1!==e.amount.search(/-/g)?"expense":"income",children:[e.title," |",Object(u.jsxs)("span",{children:[" ",e.time," "]}),"| ",e.amount]})})),c=t.slice(0,4).map((function(e){return Object(u.jsxs)("li",{className:-1!==e.amount.search(/-/g)?"expense":"income",children:[e.title," |",Object(u.jsxs)("span",{children:[" ",e.time," "]}),"| ",e.amount]})}));return Object(u.jsxs)("div",{className:"history",children:[Object(u.jsxs)("h4",{children:["History ",Object(u.jsx)("span",{onClick:function(t){return e.historyAllRef.current.className=""},children:"VIEW ALL"})]}),Object(u.jsx)("hr",{}),Object(u.jsx)("ul",{children:c}),Object(u.jsx)("div",{id:"historyAll",className:"hide",ref:e.historyAllRef,children:Object(u.jsxs)("div",{id:"historyAllContent",children:[Object(u.jsx)("p",{onClick:function(t){return e.historyAllRef.current.className="hide"},children:"\xd7"}),Object(u.jsx)("h2",{children:"History"}),Object(u.jsx)("ul",{children:n})]})})]})}function o(e){return Object(u.jsxs)("div",{className:"input",children:[Object(u.jsx)("h4",{children:"Add new transaction"}),Object(u.jsx)("hr",{}),Object(u.jsxs)("form",{onSubmit:e.processTransaction,children:[Object(u.jsx)("br",{}),Object(u.jsx)("label",{children:"Transaction Subject (max. 20 words):"}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"Text",placeholder:"e.g. Food, Income...",value:e.inputTitle,maxLength:20,onChange:e.changeTitle,required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsxs)("label",{children:["Amount:",Object(u.jsx)("br",{}),"e.g. 50 = Income",Object(u.jsx)("br",{}),"e.g. -50 = Expense ('-' added in front)"]}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"number",placeholder:"e.g. 50, -50",value:e.inputAmount,onChange:e.changeAmount,required:!0}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{type:"submit",value:"Add Transaction"})]})]})}var d=n(11),h=(n(28),n(25),n(17));d.a.initializeApp({apiKey:"AIzaSyCQuSLV9BydFHRtg-x9kK9jeM0foZyOt3M",authDomain:"expense-tracker-d9bf2.firebaseapp.com",projectId:"expense-tracker-d9bf2",storageBucket:"expense-tracker-d9bf2.appspot.com",messagingSenderId:"180385147814",appId:"1:180385147814:web:3b0a82f9d205b930eb7d67",measurementId:"G-N4BC1MH8WZ"});var O=d.a.auth(),x=d.a.firestore(),m=!1;function p(){m=!0;var e=Object(s.useState)(0),t=Object(r.a)(e,2),n=t[0],i=t[1],a=Object(s.useState)(0),j=Object(r.a)(a,2),d=j[0],h=j[1],p=Object(s.useState)(0),f=Object(r.a)(p,2),v=f[0],y=f[1],N=Object(s.useState)([]),A=Object(r.a)(N,2),C=A[0],S=A[1],k=Object(s.useState)("$"),I=Object(r.a)(k,2),T=I[0],U=I[1],E=x.collection("users").doc(O.currentUser.uid);function F(e){h(e.balance),i(e.income),y(e.expense),S(e.history),U(e.currencyUnit)}Object(s.useEffect)((function(){E.get().then((function(e){e.exists||E.set({balance:0,income:0,expense:0,currencyUnit:"$",history:[]}),E.get().then((function(e){return F(e.data())}))}))}),[m]);var L=Object(s.useState)(""),R=Object(r.a)(L,2),M=R[0],w=R[1],B=Object(s.useState)(""),D=Object(r.a)(B,2),H=D[0],P=D[1],G=Object(s.useRef)(),W=Object(s.useRef)();return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{id:"settings",onClick:function(e){return W.current.className=""},children:Object(u.jsx)("i",{className:"fas fa-cog"})}),Object(u.jsx)("div",{id:"settingsMenu",className:"hide",ref:W,children:Object(u.jsxs)("div",{id:"settingsMenuContent",children:[Object(u.jsx)("p",{onClick:function(e){return W.current.className="hide"},children:"\xd7"}),Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(u.jsx)("label",{children:"Enter Currency Unit: "}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("input",{maxLength:3,placeholder:"e.g. $, RM...",type:"text",value:T,onChange:function(e){U(e.target.value),E.update({currencyUnit:e.target.value})},required:!0})]}),Object(u.jsx)("br",{}),Object(u.jsx)(g,{})]})}),Object(u.jsxs)("h3",{children:["Hello, ",O.currentUser.displayName]}),Object(u.jsx)("br",{}),Object(u.jsx)(b,{income:n,balance:d,expense:v,currencyUnit:T}),Object(u.jsx)("br",{}),Object(u.jsx)(l,{history:C,historyAllRef:G}),Object(u.jsx)("br",{}),Object(u.jsx)(o,{inputTitle:M,inputAmount:H,changeTitle:function(e){return w(e.target.value)},changeAmount:function(e){return P(e.target.value)},processTransaction:function(e){e.preventDefault();var t=Date().toLocaleString();t=t.slice(0,t.indexOf("G")),h(Number(d)+Number(H)),E.update({balance:Number(d)+Number(H)}),-1!==H.search(/-/g)?(y(Number(v)+Number(H)),E.update({expense:Number(v)+Number(H)})):(i(Number(n)+Number(H)),E.update({income:Number(n)+Number(H)})),S([{title:M,time:t,amount:parseFloat(H).toFixed(2)}].concat(Object(c.a)(C))),E.update({history:[{title:M,time:t,amount:parseFloat(H).toFixed(2)}].concat(Object(c.a)(C))}),w(""),P("")}})]})}function f(){return Object(u.jsxs)("div",{id:"signIn",children:[Object(u.jsx)("h2",{children:"Expense Tracker"}),Object(u.jsx)("p",{children:"Track your expenses, transactions and more with this user-friendly app"}),Object(u.jsx)("button",{onClick:function(){var e=new d.a.auth.GoogleAuthProvider;O.signInWithPopup(e)},children:"Sign In With Google"})]})}function g(){return O.currentUser&&Object(u.jsx)("button",{id:"signOut",onClick:function(){return O.signOut()},children:"Sign Out"})}function v(){var e=Object(h.a)(O),t=Object(r.a)(e,1)[0];return Object(u.jsx)("div",{children:t?Object(u.jsx)(p,{}):Object(u.jsx)(f,{})})}var y=Object(u.jsx)(v,{});a.a.render(y,document.getElementById("root")),j()}},[[27,1,2]]]);
//# sourceMappingURL=main.c2e0171a.chunk.js.map